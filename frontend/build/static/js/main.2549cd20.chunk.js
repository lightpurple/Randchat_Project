(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(e,t,c){},124:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),s=c(31),o=c.n(s),i=(c(78),c(8)),r=c(73),l=c(29),j=c(12),d=c(3),b=(c(79),c(30)),u=c(1),m=function(e){var t=e.user,c=e.onListRemove,a=e.socket,s=e.ban,o=Object(n.useState)(!1),i=Object(d.a)(o,2),r=i[0],l=i[1];return Object(u.jsxs)("div",{className:"User",children:[Object(u.jsx)("img",{src:t.image?t.image:"/1946429.png",className:"YourProfile",alt:"profile",onClick:function(){l(!r)}}),r?Object(u.jsxs)("div",{className:"YourName",children:[Object(u.jsx)("h4",{children:t.other}),Object(u.jsx)("button",{className:"blk",onClick:function(){s(),c(t.id)},children:"Block"}),Object(u.jsx)("button",{className:"exit",onClick:function(){c(t.id),a.disconnect(),window.location.href="/main"},children:"Exit"})]}):Object(u.jsxs)("div",{id:"user1",className:"YourNameBG",style:{backgroundcolor:"#D4D4D4"},children:[Object(u.jsx)("h4",{children:t.other}),t.otherIntro?Object(u.jsx)("p",{children:t.otherIntro}):Object(u.jsxs)("p",{children:["\uc548\ub155\ud558\uc138\uc694. ",t.other,"\uc785\ub2c8\ub2e4."]})]})]})},O=function(e){var t=e.msg,c=e.image;return Object(u.jsxs)("div",{className:"YourChatbox",children:[Object(u.jsx)("img",{src:c||"/1946429.png",className:"YourImg",alt:"profile"}),Object(u.jsx)("div",{className:"YourChat",children:t.message})]})},h=function(e){var t=e.msg;return Object(u.jsx)("div",{className:"MyChatbox",children:Object(u.jsx)("div",{className:"MyChat",children:t.message})})},x=function(e){var t=e.socket,c=e.user,a=e.userList,s=e.other,o=e.onListRemove,i=e.sysMsg,r=e.onChatChange,l=e.onChatSubmit,j=e.message,d=e.ban,x=e.chatMsgList,g=e.image,p=Object(n.useRef)(null);return Object(n.useEffect)((function(){p.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[x]),Object(u.jsxs)("div",{className:"ChatBox",children:[Object(u.jsxs)("div",{className:"ChatRoom",children:[Object(u.jsx)("div",{className:"ChatM",children:Object(u.jsxs)("p",{children:[s,"\uc774 \uc785\uc7a5\ud588\uc2b5\ub2c8\ub2e4"]})}),x?Object(u.jsx)("div",{ref:p,children:x.map((function(e,t){return Object(u.jsx)("div",{children:e.nick===c?Object(u.jsx)(h,{msg:e}):Object(u.jsx)(O,{msg:e,image:g})},t)}))}):null,Object(u.jsx)("p",{children:i})]}),Object(u.jsxs)("div",{className:"FieldBox",children:[Object(u.jsx)("input",{className:"message",name:"message",placeholder:"\uba54\uc138\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:r,value:j,maxLength:"30"}),Object(u.jsx)("button",{className:"FieldButton",onClick:l,children:Object(u.jsx)(b.b,{size:"28",className:"Send"})})]}),Object(u.jsx)("div",{className:"UserList",children:a?Object(u.jsx)("div",{children:a.map((function(e){return Object(u.jsx)(m,{user:e,onListRemove:o,socket:t,ban:d},e.id)}))}):null})]})},g=Object(i.i)((function(e){var t=e.info,c=e.socket,a=Object(n.useState)([]),s=Object(d.a)(a,2),o=s[0],i=s[1],b=Object(n.useState)(""),m=Object(d.a)(b,2),O=m[0],h=m[1],g=Object(n.useState)(""),p=Object(d.a)(g,2),f=p[0],v=p[1],N=Object(n.useState)(""),k=Object(d.a)(N,2),y=k[0],S=k[1],C=Object(n.useState)(""),w=Object(d.a)(C,2),I=w[0],M=w[1],F=Object(n.useState)(""),L=Object(d.a)(F,2),R=L[0],E=L[1];Object(n.useEffect)((function(){h(t.user),v(t.other),S(t.otherIntro),M(t.roomId),E(t.image),t&&localStorage.setItem("infomation",JSON.stringify(t))}),[]);var z=Object(n.useState)(""),B=Object(d.a)(z,2),T=B[0],_=B[1],D=Object(n.useState)({message:""}),P=Object(d.a)(D,2),J=P[0],A=P[1],U=J.message,Y=Object(n.useState)([]),G=Object(d.a)(Y,2),q=G[0],H=G[1];Object(n.useEffect)((function(){return c.on("msg",(function(e){H((function(t){return[].concat(Object(r.a)(t),[e])}))})),c.on("sysMsg",(function(e){_(e.message),alert(e),console.log(e)})),function(){}}),[c]);Object(n.useEffect)((function(){i(JSON.parse(localStorage.getItem("roomIdList")))}),[]);var W=Object(n.useCallback)((function(e){i(o.filter((function(t){return t.id!==e}))),localStorage.setItem("roomIdList",JSON.stringify(o.filter((function(t){return t.id!==e})))),c.disconnect()}),[o]);return Object(u.jsx)(x,{userList:o,socket:c,user:O,other:f,otherIntro:y,roomId:I,image:R,sysMsg:T,message:U,chatMsgList:q,onListRemove:W,onChatChange:function(e){A(Object(j.a)(Object(j.a)({},J),{},Object(l.a)({},e.target.name,e.target.value)))},onChatSubmit:function(e){e.preventDefault(),U?(c.emit("message",{roomId:I,message:U,nick:O}),A({message:""})):alert("\ub300\ud654\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694")},ban:function(){c.emit("ban",{roomId:I,user:O,other:f}),c.on("banComplete",(function(){alert("".concat(f,"\uac00 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),c.disconnect()}))}})})),p=c(6),f=(c(38),c(35)),v=c(36),N=function(e){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)(p.b,{to:"/",className:"headermenu",onClick:function(){localStorage.clear()},children:Object(u.jsx)(b.a,{className:"OIcon"})}),Object(u.jsx)(p.b,{to:"/mypage",className:"mbutton",children:Object(u.jsx)(f.a,{className:"MyIcon"})}),Object(u.jsx)(p.b,{to:"/main",className:"mbutton",children:Object(u.jsx)(v.a,{className:"MIcon"})}),Object(u.jsx)("hr",{})]})},k=function(){var e=Object(i.h)(),t=Object(i.g)(),c=e.state,n=e.socket;return void 0===e.socket&&t.push("/main"),Object(u.jsxs)("div",{children:[Object(u.jsx)(N,{title:"\uac00\ubccd\uac8c \uc0c1\ub300\ubc29\uacfc \ud558\ub294 \ucc44\ud305"}),Object(u.jsx)(g,{info:c,socket:n})]})},y=a.a.memo(k),S={position:"absolute",left:"0",top:"0",bottom:"0",right:"0",background:"#ffffff"},C=function(e){var t=e.children;return Object(u.jsx)("div",{style:S,children:t})},w=function(e){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)("hr",{})]})},I=(c(85),{login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"}),M=function(e){var t=e.type,c=e.form,n=e.onChange,a=e.onSubmit,s=I[t];return Object(u.jsx)("div",{className:"block",children:Object(u.jsxs)("div",{className:"form",children:[Object(u.jsxs)("form",{onSubmit:a,method:"POST",children:["login"===t&&Object(u.jsx)("div",{className:"logintitle",children:"Email"}),Object(u.jsx)("input",{autoComplete:"email",name:"email",className:"login"===t?"box":"registerbox",placeholder:"login"===t?"":"\uc774\uba54\uc77c",type:"email",onChange:n,value:c.email}),"login"===t&&Object(u.jsx)("div",{className:"logintitle",children:"Password"}),Object(u.jsx)("input",{autoComplete:"new-password",name:"password",className:"login"===t?"box":"registerbox",placeholder:"login"===t?"":"\ube44\ubc00\ubc88\ud638",type:"password",onChange:n,value:c.password,minLength:"8"}),c.password.length>0&&c.password.length<8&&Object(u.jsx)("div",{style:{color:"red"},children:"\uc601\uc5b4, \uc22b\uc790\ub97c \ud3ec\ud568\ud55c 8\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),"register"===t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{autoComplete:"new-password",name:"password2",className:"registerbox",placeholder:"\ube44\ubc00\ubc88\ud638\ud655\uc778",type:"password",onChange:n,value:c.password2}),c.password!==c.password2&&Object(u.jsx)("div",{style:{color:"red"},children:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),Object(u.jsx)("input",{autoComplete:"nickname",name:"nickname",className:"registerbox",placeholder:"\ub2c9\ub124\uc784",onChange:n,value:c.nickname,minLength:"3"}),Object(u.jsxs)("div",{className:"gender",children:[Object(u.jsx)("p",{className:"gendertitle",children:"\uc131\ubcc4"}),Object(u.jsx)("label",{htmlFor:"M",className:"labeltxt",children:"\ub0a8\uc131"}),Object(u.jsx)("input",{type:"radio",name:"gender",id:"M",className:"label",onChange:n,value:"M"}),Object(u.jsx)("label",{htmlFor:"F",className:"labeltxt",children:"\uc5ec\uc131"}),Object(u.jsx)("input",{type:"radio",name:"gender",id:"F",className:"label",onChange:n,value:"F"})]})]}),Object(u.jsx)("button",{className:"btn1",children:s})]}),"login"===t?Object(u.jsx)(p.b,{to:"/signup",children:Object(u.jsx)("button",{className:"btn2",children:"\ud68c\uc6d0\uac00\uc785"})}):Object(u.jsx)(p.b,{to:"/",children:Object(u.jsx)("button",{className:"btn2",children:"\ucde8\uc18c"})})]})})},F=c(64),L=c.n(F).a.create({baseURL:"http://ec2-13-124-78-4.ap-northeast-2.compute.amazonaws.com:5000/",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"*/*","x-access-token":"".concat(localStorage.getItem("token"))}});L.interceptors.response.use((function(e){return e}),(function(e){return void 0===e.response.status&&alert("\uc2e4\ud328"),400===e.response.status&&("Password is incorrect!"===e.response.data.msg&&alert("\uc798\ubabb\ub41c \uc774\uba54\uc77c/\ube44\ubc00\ubc88\ud638 \uc785\ub2c8\ub2e4."),"User is aleady exist!"===e.response.data.msg&&alert("\uc874\uc7ac\ud558\ub294 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.")),Promise.reject(e)}));var R=L,E=c(32),z=Object(i.i)((function(){var e=Object(n.useState)({email:"",password:""}),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){a({email:"",password:""})}),[]),Object(u.jsx)(M,{type:"login",form:c,onChange:function(e){var t=e.target,n=t.value,s=t.name;a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},s,n)))},onSubmit:function(e){e.preventDefault();var t={email:c.email,password:c.password};R.post("/api/auth/login",E.stringify(t)).then((function(e){localStorage.setItem("token",e.data.token),console.log(localStorage.getItem("token")),200===e.status&&(window.location.href="/main",localStorage.setItem("isAuthorized","true"),R.defaults.headers.common["x-access-token"]=e.data.token)}))}})}));c(119);function B(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),i=o[0],r=o[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),b=j[0],m=j[1],O=function(e){a(e),r((function(e){return!e})),m((function(e){return!e}))},h=[{Title:Object(u.jsx)("div",{className:0===c?"active":"unactive",onClick:function(){return O(0)},children:"Developer"}),Content:Object(u.jsxs)("div",{className:!1===i?"none":"content",children:[Object(u.jsxs)("div",{className:"dev",children:[Object(u.jsx)("div",{className:"web",children:"FRONTEND"}),Object(u.jsx)("a",{href:"https://github.com/jin0610",className:"name",children:"\uc11c\uc9c0\uc778"}),Object(u.jsx)("a",{href:"https://github.com/phseon",className:"name",children:"\ubc15\ud61c\uc120"})]}),Object(u.jsxs)("div",{className:"dev",children:[Object(u.jsx)("div",{className:"web",children:"BACKEND"}),Object(u.jsx)("a",{href:"https://github.com/lightpurple",className:"name",children:"\ud64d\uc740\uc131"})]})]})},{Title:Object(u.jsx)("div",{className:1===c?"active":"unactive",onClick:function(){return O(1)},children:"About"}),Content:Object(u.jsx)("div",{className:!1===b?"none":"content",children:Object(u.jsxs)("div",{className:"abt",children:[Object(u.jsx)("div",{className:"about",children:" \uc0c8\ub85c\uc6b4 \uc0ac\ub78c\uc744 \ub9cc\ub098\uae30 \uc5b4\ub824\uc6cc\uc9c4 \uc9c0\uae08"}),Object(u.jsx)("div",{className:"about",children:"\uc628\ub77c\uc778\uc73c\ub85c \uce5c\uad6c\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694"}),Object(u.jsx)("div",{className:"about",children:"\ub79c\ub364\uc73c\ub85c \ub9e4\uce6d\ub41c \uc0c1\ub300\ubc29\uacfc \ub300\ud654\ub97c \uc2dc\uc791\ud558\uc5ec"}),Object(u.jsx)("div",{className:"about",children:"\uad00\uc2ec\uc0ac\ub97c \uacf5\uc720\ud558\uba70 \uc0c8\ub85c\uc6b4 \uc778\uc5f0\uc744 \ub9fa\uc5b4\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]})})}];return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"tabTitle",children:h.map((function(e,t){return e.Title}))}),Object(u.jsx)("div",{className:"tabContent",children:h[c].Content})]})}var T=function(){return Object(u.jsxs)(C,{children:[Object(u.jsx)(w,{title:"\uac00\ubccd\uac8c \uc0c1\ub300\ubc29\uacfc \ud558\ub294 \ucc44\ud305"}),Object(u.jsx)(z,{}),Object(u.jsx)("hr",{}),Object(u.jsx)(B,{})]})},_=function(e){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)(p.b,{to:"/mypage",className:"mbutton",children:Object(u.jsx)(f.a,{className:"MyIcon"})}),Object(u.jsx)(p.b,{to:"/main",className:"mbutton",children:Object(u.jsx)(v.a,{className:"MIcon"})}),Object(u.jsx)("hr",{})]})},D=c(32),P=Object(i.i)((function(){var e=Object(n.useState)({email:"",password:"",password2:"",nickname:"",gender:""}),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){a({email:"",password:"",password2:"",nickname:"",gender:""})}),[]),Object(u.jsx)(M,{type:"register",form:c,onChange:function(e){var t=e.target,n=t.value,s=t.name;a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},s,n)))},onSubmit:function(e){console.log("\ud68c\uc6d0\uac00\uc785"),e.preventDefault();var t=c.email,n=c.password,s=c.password2,o=c.nickname,i=c.gender;if([t,n,s,o].includes(""))alert("\ube48\uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.");else{if(n!==s)return alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),void a(Object(j.a)(Object(j.a)({},c),{},{password:"",password2:""}));var r={email:t,nickname:o,gender:i,password:n};R.post("/api/auth/signup",D.stringify(r)).then((function(e){console.log(e),console.log(r),200===e.status&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),document.location.href="/")}))}}})})),J=function(){return Object(u.jsxs)(C,{children:[Object(u.jsx)(_,{title:"\uac00\ubccd\uac8c \uc0c1\ub300\ubc29\uacfc \ud558\ub294 \ucc44\ud305"}),Object(u.jsx)(P,{})]})},A=function(e){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)(p.b,{to:"/",className:"headermenu",onClick:function(){localStorage.clear()},children:Object(u.jsx)(b.a,{className:"OIcon"})}),Object(u.jsx)(p.b,{to:"/mypage",className:"mbutton",children:Object(u.jsx)(f.a,{className:"MyIcon"})}),Object(u.jsx)("hr",{})]})},U=c(72),Y=(c(124),function(e){var t=e.socket,c=e.user,n=e.disconnect,a=e.userSetting,s=e.loading,o=e.roomIdList,i=e.onRemove,r=e.onToggle,l=e.stopFinding,j=e.otherIntro,d=e.image,b="",m=function(){e.MatchGender(b)};return Object(u.jsxs)("div",{className:"MainpageBox",children:[Object(u.jsxs)("h3",{children:["\ud604\uc7ac \ucc44\ud305\ubc29 \uc218 : ",o?o.length:0]}),Object(u.jsxs)("div",{className:"Match",children:[s?Object(u.jsx)("p",{children:"\ub300\ud654\uc0c1\ub300 \ucc3e\ub294 \uc911...."}):Object(u.jsx)("p",{children:"\uc0c1\ub300\ubc29\uc744 \uc120\ud0dd\ud558\uc5ec \ub300\ud654\ub97c \uc2dc\uc791\ud574\ubcf4\uc138\uc694"}),s?Object(u.jsx)("button",{onClick:function(){l()},children:"\ucde8\uc18c"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{id:"matchgender",onClick:function(){b="M",m(),a()},children:"Male"}),Object(u.jsx)("button",{id:"matchgender",onClick:function(){b="F",m(),a()},children:"Female"})]})]}),o?Object(u.jsx)("div",{children:o&&o.map((function(e){return Object(u.jsx)(G,{room:e,onRemove:i,onToggle:r,disconnect:n,user:c,socket:t,otherIntro:j,image:d},e.id)}))}):null]})});function G(e){var t=e.room,c=e.onRemove,n=e.onToggle,a=e.otherIntro,s=e.user,o=e.socket,r=Object(i.g)(),l=t.image;return Object(u.jsxs)("div",{className:"ProfileImg",children:[Object(u.jsx)("img",{src:t.image?l:"/1946429.png",alt:"profile",className:"Img1",style:{cursor:"pointer"},onClick:function(){n(t.id);var e=t.roomId,c=t.other;r.push({pathname:"/chat/:".concat(e),state:{user:s,otherIntro:a,roomId:e,other:c,image:l},socket:o})}}),Object(u.jsxs)("div",{children:[t.other,Object(u.jsx)("button",{className:"ChatClose",onClick:function(){c(t.id),o.disconnect()},children:"\ub05d\ub0b4\uae30"})]})]})}var q=a.a.memo(Y),H=U.a.connect("http://ec2-13-124-78-4.ap-northeast-2.compute.amazonaws.com:5000"),W=function(){var e,t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),r=i[0],l=i[1],b=Object(n.useState)(""),m=Object(d.a)(b,2),O=m[0],h=m[1],x=Object(n.useState)(""),g=Object(d.a)(x,2),p=g[0],f=g[1],v=Object(n.useState)(""),N=Object(d.a)(v,2),k=N[0],y=N[1],S=Object(n.useState)(""),C=Object(d.a)(S,2),w=C[0],I=C[1],M=Object(n.useState)(!1),F=Object(d.a)(M,2),L=F[0],E=F[1],z=Object(n.useState)(""),B=Object(d.a)(z,2),T=B[0],_=B[1],D=Object(n.useState)(""),P=Object(d.a)(D,2),J=P[0],A=P[1],U="";Object(n.useEffect)((function(){R.get("/api/chat").then((function(e){s(e.data.nickname),l(e.data.gender),h(e.data.introduce),localStorage.setItem("user",e.data.nickname)})).catch((function(e){console.error(e)})),ae(),H.emit("userRelease",{nick:localStorage.getItem("user")}),JSON.parse(localStorage.getItem("roomIdList"))?Z(JSON.parse(localStorage.getItem("roomIdList"))):Z([])}),[]);var Y=Object(n.useState)([]),G=Object(d.a)(Y,2),W=G[0],Z=G[1];e=0===W.length?0:W[W.length-1].id;var K=Object(n.useRef)(e),V=Object(n.useCallback)((function(e){var t=e.roomId,c=e.other,n=e.otherIntro,a=e.image;K.current+=1;var s={id:K.current,roomId:t,other:c,otherIntro:n,image:a},o=[];W&&(o=W.map((function(e){return e.other}))),o.includes(s.other)||(Z(W.concat(s)),localStorage.setItem("roomIdList",JSON.stringify(W.concat(s))),K.current+=1)}),[W,w,k,a]),$=Object(n.useCallback)((function(e){Z(W.filter((function(t){return t.id!==e}))),localStorage.setItem("roomIdList",JSON.stringify(W.filter((function(t){return t.id!==e})))),H.disconnect()}),[W]),Q=Object(n.useCallback)((function(e){Z(W.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{active:!t.active}):t})))}),[W]);Object(n.useEffect)((function(){H.on("Error",(function(e){alert(e)}))}),[H]),H.on("userReady",(function(){E(!0),ne()})),H.on("roomReady",(function(e){ae(),I(e.roomId),y(e.users.filter((function(e){return e!==localStorage.getItem("user")}))[0]),H.emit("infoSetting",{nick:e.users.filter((function(e){return e!==localStorage.getItem("user")}))[0],roomId:e.roomId})})),H.on("infoReady",(function(e){f(e.introduce),A(e.image),k&&V({roomId:w,other:k,otherIntro:p,image:J})})),H.on("sysMsg",(function(e){_(e.message)}));var X=Object(n.useState)(null),ee=Object(d.a)(X,2),te=ee[0],ce=ee[1],ne=function(){ce(1e3)},ae=function(){E(!1),ce(null),H.emit("userRelease",{nick:a})};return Object(n.useEffect)((function(){if(null!==te){var e=setInterval((function(){H.emit("roomSetting",{nick:a})}),te);return function(){return clearInterval(e)}}}),[te]),Object(u.jsx)(q,{user:a,socket:H,gender:r,stopFinding:ae,introduce:O,otherIntro:p,other:k,roomId:w,roomIdList:W,sysMsg:T,image:J,userSetting:function(){H.emit("userSetting",{nick:a,gender:r,matchGender:U})},loading:L,MatchGender:function(e){U=e},onRemove:$,onToggle:Q})},Z=a.a.memo(W);var K=function(){return Object(u.jsxs)("div",{className:"Mainpage",children:[Object(u.jsx)(A,{title:"\uac00\ubccd\uac8c \uc0c1\ub300\ubc29\uacfc \ud558\ub294 \ucc44\ud305"}),Object(u.jsx)(Z,{})]})},V=function(e){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)(p.b,{to:"/",className:"headermenu",onClick:function(){localStorage.clear()},children:Object(u.jsx)(b.a,{className:"OIcon"})}),Object(u.jsx)(p.b,{to:"/main",className:"mbutton",children:Object(u.jsx)(v.a,{className:"MIcon"})}),Object(u.jsx)("hr",{})]})},$=c(69),Q=c(49),X=c.n(Q),ee=c(133),te=c(132),ce=c(32);function ne(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),i=o[0],r=o[1];R.get("/api/mypage").then((function(e){r(e.data.nickname)})).catch((function(e){console.error(e)}));var l=Object(n.useState)(""),j=Object(d.a)(l,2),b=j[0],m=j[1],O=/^[a-zA-Z0-9\uac00-\ud7a3\u3131-\u314e\u314f-\u3163\s]/.test(b);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ee.a,{className:"btn btn-outline-dark",onClick:function(){return a(!0)},children:"\uc18c\uac1c \ubcc0\uacbd"}),Object(u.jsxs)(te.a,{size:"default",show:c,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(u.jsx)(te.a.Header,{closeButton:!0,children:Object(u.jsx)(te.a.Title,{id:"example-modal-sizes-title-lg",children:"\uc18c\uac1c \ubcc0\uacbd"})}),Object(u.jsxs)(te.a.Body,{children:[Object(u.jsx)("div",{className:"valuename",children:Object(u.jsx)("p",{children:"\ubcc0\uacbd\ud560 \ud55c\ub9c8\ub514"})}),Object(u.jsx)("input",{type:"text",className:"input",onChange:function(e){console.log(e.target.value),m(e.target.value)},value:b,name:"introduce"})]}),Object(u.jsxs)(te.a.Footer,{children:[Object(u.jsx)("button",{className:"change",disabled:!(1<b.length&&b.length<14&&!0===O),onClick:function(){console.log(b);var e={introduce:b,nickname:i};R.put("/api/mypage",ce.stringify(e)).then((function(t){console.log(t),console.log(e)})),a(!1)},children:"\ubcc0\uacbd"}),Object(u.jsx)("button",{onClick:function(){return a(!1)},className:"a_close",children:" \ub2eb\uae30"}),Object(u.jsx)("div",{children:Object(u.jsx)("h5",{style:{color:"#5a5a5a"},children:"* 1~13\uc790\uc758 \ud55c\uae00, \uc601\ubb38, \uc22b\uc790\ub97c \uc785\ub825\ud558\uc138\uc694"})}),Object(u.jsx)("div",{className:"hidden",children:Object(u.jsx)("p",{children:i})})]})]})]})}var ae=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],a=t[1];return R.get("/api/mypage").then((function(e){console.log(e.data.introduce),a(e.data.introduce)})).catch((function(e){console.error(e)})),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{children:c})})};c(127),c(128);var se=function(){var e=function(){var e=Object($.a)(X.a.mark((function e(t){var c,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!t.target.files){e.next=7;break}return c=t.target.files[0],(n=new FormData).append("image",c),e.next=7,R({method:"post",url:"/api/mypage/upload",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){alert("\uc0ac\uc9c4\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4")})).catch((function(e){alert("\ud30c\uc77c \ud06c\uae30\uac00 4MB\ub97c \ucd08\uacfc\ud569\ub2c8\ub2e4")}));case 7:case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){R.get("/api/mypage").then((function(e){console.log(e.data.image),console.log(e),s(e.data.image)})).catch((function(e){console.error(e)}))}),[]),Object(u.jsxs)("div",{className:"MyPageProfile",children:[Object(u.jsx)("div",{className:"imageBox",children:Object(u.jsx)("img",{className:"image",src:a,alt:""})}),Object(u.jsxs)("div",{className:"Item",children:[Object(u.jsx)("p",{children:"\uc18c\uac1c \ud55c\ub9c8\ub514"}),Object(u.jsx)("div",{className:"Change",children:Object(u.jsx)(ne,{})})]}),Object(u.jsxs)("div",{className:"Contents",children:[Object(u.jsx)(ae,{}),Object(u.jsx)("hr",{style:{margin:"35px 20px 20px 0",padding:"0 10px 0 0",width:"348px",border:"solid thin #d0d0d0"}})]}),Object(u.jsx)("div",{className:"itemSelect",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("label",{htmlFor:"profile",className:"FileSelect",children:"\uc0ac\uc9c4 \ubcc0\uacbd"}),Object(u.jsx)("input",{type:"file",id:"profile",accept:"image/png, image/jpeg",className:"Filebutton",name:"image",onChange:e})]})})]})};var oe=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1];return R.get("/api/mypage").then((function(e){console.log(e.data.email),a(e.data.email)})).catch((function(e){console.error(e)})),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"Use",children:Object(u.jsxs)("p",{children:[c,"qwr@qwer.com"]})})})},ie=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"MyPagebox",children:[Object(u.jsx)("div",{className:"Item",children:Object(u.jsx)("p",{children:"\uc774\uba54\uc77c"})}),Object(u.jsx)("div",{className:"Contents",children:Object(u.jsx)(oe,{})}),Object(u.jsx)("hr",{style:{margin:"5px 20px 15px 30px",padding:"0 10px 0 0",width:"530px",border:"solid thin #d0d0d0"}})]})})},re=c(32);function le(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),i=o[0],r=o[1];R.get("/api/mypage").then((function(e){r(e.data.introduce)})).catch((function(e){console.error(e)}));var l=Object(n.useState)(""),j=Object(d.a)(l,2),b=j[0],m=j[1],O=/^[0-9a-zA-Z\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]+$/.test(b);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ee.a,{className:"btn btn-outline-dark",onClick:function(){return a(!0)},children:"\ub2c9\ub124\uc784 \ubcc0\uacbd"}),Object(u.jsxs)(te.a,{size:"default",show:c,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(u.jsx)(te.a.Header,{closeButton:!0,children:Object(u.jsx)(te.a.Title,{id:"example-modal-sizes-title-lg",children:"\ub2c9\ub124\uc784 \ubcc0\uacbd"})}),Object(u.jsxs)(te.a.Body,{children:[Object(u.jsx)("div",{className:"valuename",children:Object(u.jsx)("p",{children:"\ubcc0\uacbd\ud560 \ub2c9\ub124\uc784"})}),Object(u.jsx)("input",{type:"text",className:"input",onChange:function(e){console.log(e.target.value),m(e.target.value)},value:b,name:"nickname"})]}),Object(u.jsxs)(te.a.Footer,{children:[Object(u.jsx)("button",{className:"change",disabled:!(b.length>1&&b.length<11&&!0===O),onClick:function(){console.log(b);var e={introduce:i,nickname:b};R.put("/api/mypage",re.stringify(e)).then((function(t){console.log(t),console.log(e)})),a(!1)},children:"\ubcc0\uacbd"}),Object(u.jsx)("button",{onClick:function(){return a(!1)},className:"a_close",children:" \ub2eb\uae30"}),Object(u.jsx)("div",{children:Object(u.jsx)("h5",{style:{color:"#5a5a5a"},children:"* 2\uc790~10\uc790\uc758 \ud55c\uae00, \uc601\ubb38, \uc22b\uc790\ub97c \uc785\ub825\ud558\uc138\uc694"})}),Object(u.jsx)("div",{className:"hidden",children:Object(u.jsx)("p",{children:i})})]})]})]})}var je=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){R.get("/api/mypage").then((function(e){console.log(e.data.nickname),a(e.data.nickname)})).catch((function(e){console.error(e)}))}),[c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"Use",children:Object(u.jsxs)("p",{children:[c,"qwer"]})})})},de=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"MyPagebox",children:[Object(u.jsxs)("div",{className:"Item",children:[Object(u.jsx)("p",{children:"\ub2c9\ub124\uc784"}),Object(u.jsx)("div",{className:"Change",children:Object(u.jsx)(le,{})})]}),Object(u.jsx)("div",{className:"Contents",children:Object(u.jsx)(je,{})}),Object(u.jsx)("hr",{style:{margin:"5px 20px 15px 30px",padding:"0 10px 0 0",width:"530px",border:"solid thin #d0d0d0"}})]})})},be=(c(129),c(32));function ue(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],r=o[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ee.a,{className:"btn btn-outline-secondary",onClick:function(){return a(!0)},children:"\uacc4\uc815 \uc0ad\uc81c"}),Object(u.jsxs)(te.a,{size:"default",show:c,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(u.jsx)(te.a.Header,{closeButton:!0,children:Object(u.jsx)(te.a.Title,{id:"example-modal-sizes-title-lg",children:"\uacc4\uc815 \uc0ad\uc81c"})}),Object(u.jsxs)(te.a.Body,{children:[Object(u.jsx)("div",{className:"valuename",children:Object(u.jsx)("p",{children:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638"})}),Object(u.jsx)("input",{type:"password",className:"inputvalue",onChange:function(e){console.log(e.target.value),r(e.target.value)},value:i})]}),Object(u.jsxs)(te.a.Footer,{children:[Object(u.jsx)("button",{className:"a_delete",onClick:function(){console.log(i);var e={password:i};R.delete("/api/mypage",be.stringify(e)).then((function(e){console.log(e.data)})).catch((function(e){console.error(e),alert(e)}))},children:"\uc0ad\uc81c"}),Object(u.jsx)("button",{onClick:function(){return a(!1)},className:"a_close",children:" \ub2eb\uae30 "}),Object(u.jsx)("div",{children:Object(u.jsx)("h5",{children:"* \uc0ad\uc81c \ubc84\ud2bc\uc744 \ub204\ub974\uba74 \uacc4\uc815\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4"})})]})]})]})}var me=function(){return Object(u.jsx)("div",{className:"changepage",children:Object(u.jsx)(p.b,{to:"/Mypage/Change_password",className:"p_button",children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"})})};var Oe=function(){return Object(u.jsxs)("div",{className:"Mypage",children:[Object(u.jsx)(V,{title:"\uac00\ubccd\uac8c \uc0c1\ub300\ubc29\uacfc \ud558\ub294 \ucc44\ud305"}),Object(u.jsx)(se,{}),Object(u.jsx)(ie,{}),Object(u.jsx)(de,{}),Object(u.jsx)(me,{}),Object(u.jsx)(ue,{})]})},he=c(32);var xe=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),i=o[0],r=o[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"Changebox",children:[Object(u.jsx)("div",{className:"Item",children:Object(u.jsx)("h3",{children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"})}),Object(u.jsxs)("div",{className:"PWDiv",children:[Object(u.jsx)("div",{className:"Cvaluename",children:Object(u.jsx)("p",{children:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638"})}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("input",{type:"password",className:"inputvalue",onChange:function(e){console.log(e.target.value),a(e.target.value)},value:c||"",name:"old_password"})})]}),Object(u.jsxs)("div",{className:"PWDiv",children:[Object(u.jsx)("div",{className:"Cvaluename",children:Object(u.jsx)("p",{children:"\uc0c8 \ube44\ubc00\ubc88\ud638"})}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("input",{type:"password",className:"inputvalue",onChange:function(e){console.log(e.target.value),r(e.target.value)},value:i||"",name:"new_password"})})]}),Object(u.jsx)("div",{children:Object(u.jsx)("h6",{children:"* 8\uc790 \uc774\uc0c1\uc758 \uc601\ubb38, \uc22b\uc790\ub97c \uc785\ub825\ud558\uc138\uc694"})}),Object(u.jsx)("button",{className:"b_change",onClick:function(){var e={old_password:c,new_password:i};R.post("/api/mypage/change_password",he.stringify(e)).then((function(t){alert(t.status),alert(t.data.msg),console.log(t),console.log(e),200===t.status&&(a(null),r(null),localStorage.clear(),window.location.href="/",alert("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc131\uacf5! \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694"))})).catch((function(e){console.log("error"),alert(e)}))},children:" \ubcc0\uacbd "}),Object(u.jsx)(p.b,{to:"/mypage",children:Object(u.jsx)("button",{className:"b_cancel",children:"\ucde8\uc18c"})})]})})};var ge=function(){return Object(u.jsxs)("div",{className:"Mypage",children:[Object(u.jsx)(V,{title:"\uac00\ubccd\uac8c \uc0c1\ub300\ubc29\uacfc \ud558\ub294 \ucc44\ud305"}),Object(u.jsx)(xe,{})]})},pe=c(71),fe=["component"];var ve=function(e){var t=e.component,c=Object(pe.a)(e,fe);return Object(u.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return localStorage.getItem("isAuthorized")?Object(u.jsx)(t,Object(j.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var Ne=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{component:T,path:["/"],exact:!0}),Object(u.jsx)(i.b,{component:J,path:"/signup"}),Object(u.jsx)(ve,{component:y,path:["/chat/:roomId"]}),Object(u.jsx)(ve,{component:K,path:"/main"}),Object(u.jsx)(ve,{component:Oe,path:"/Mypage",exact:!0}),Object(u.jsx)(ve,{component:ge,path:"/Mypage/Change_password",exact:!0})]})})};o.a.render(Object(u.jsx)(p.a,{children:Object(u.jsx)(Ne,{})}),document.getElementById("root"))},38:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},85:function(e,t,c){}},[[130,1,2]]]);
//# sourceMappingURL=main.2549cd20.chunk.js.map